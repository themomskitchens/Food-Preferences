<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>The Mom's Kitchen - Food Preferences</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
  font-family:Poppins,sans-serif;
  background:#FFFFF0;
  margin:0;
  padding:0;
}

.container{
  max-width:500px;
  margin:40px auto;
  background:#FFFFF0;
  border-radius:16px;
  box-shadow:0 6px 16px rgba(0,0,0,0.08);
  padding:30px 25px 40px;
}

.logo{text-align:center}
.logo img{width:100px}

h2{text-align:center;font-size:1.4rem}

.progress-container{
  width:100%;height:3px;background:#eee;border-radius:20px;margin:15px 0
}
.progress-bar{
  height:100%;width:0;background:#000;border-radius:20px;transition:.4s
}
.progress-text{text-align:center;font-size:.9rem;color:#777}

.question{display:none}
.question.active{display:block}

label{font-weight:600;margin-bottom:8px;display:block}

input,textarea{
  width:90%;
  padding:12px;
  border-radius:8px;
  border:1px solid #ccc;
  margin-bottom:15px;
}

.options{display:flex;flex-direction:column;gap:10px}
.options label{
  display:flex;gap:10px;align-items:center;
  padding:12px;border:1px solid #ddd;border-radius:10px;
  cursor:pointer;background:#fafafa
}

.btn-group{
  display:flex;
  gap:20px;
  margin-top:30px;
}

button{
  flex:1;
  padding:13px;
  border:none;
  border-radius:8px;
  font-weight:600;
  background:#000;
  color:#fff;
  cursor:pointer;
}

button:disabled{
  background:#ccc;
  cursor:not-allowed;
}

/* LOADER */
#loadingOverlay{
  position:fixed;
  inset:0;
  background:#FECD50;
  display:none;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  z-index:9999;
}
.loader{
  width:40px;height:40px;
  border:5px solid #fff;
  border-top:5px solid #000;
  border-radius:50%;
  animation:spin 1s linear infinite;
}
@keyframes spin{100%{transform:rotate(360deg)}}
</style>
</head>

<body>

<div id="loadingOverlay">
  <div class="loader"></div>
  <p>Submitting & Generating Offerâ€¦</p>
</div>

<div class="container">
<div class="logo">
<img src="assets/1000059103-removebg-preview.png">
</div>

<h2>Food Preferences Survey</h2>

<div class="progress-container">
<div class="progress-bar" id="progress-bar"></div>
</div>
<div class="progress-text" id="progress-text"></div>

<form id="survey-form">

<!-- Q1 -->
<div class="question active">
<label>Full Name</label>
<input type="text" name="name" required>
<label>Phone</label>
<input type="tel" name="phone" required>
<label>Building & Floor</label>
<input type="text" name="address" required>
</div>

<!-- Q2 -->
<div class="question">
<label>Breakfast service?</label>
<div class="options">
<label><input type="radio" name="breakfast" required> Yes</label>
<label><input type="radio" name="breakfast"> Maybe</label>
<label><input type="radio" name="breakfast"> No</label>
</div>
</div>

<!-- Q3 -->
<div class="question">
<label>Lunch service?</label>
<div class="options">
<label><input type="radio" name="lunch" required> Yes</label>
<label><input type="radio" name="lunch"> Maybe</label>
<label><input type="radio" name="lunch"> No</label>
</div>
</div>

<!-- Q4 -->
<div class="question">
<label>Spice level?</label>
<div class="options">
<label><input type="radio" name="spice" required> Mild</label>
<label><input type="radio" name="spice"> Medium</label>
<label><input type="radio" name="spice"> Spicy</label>
</div>
</div>

<!-- Q5 -->
<div class="question">
<label>Subscription plan?</label>
<div class="options">
<label><input type="radio" name="subscription" required> Daily</label>
<label><input type="radio" name="subscription"> Weekly</label>
<label><input type="radio" name="subscription"> Occasional</label>
</div>
</div>

<!-- Q6 -->
<div class="question">
<label>Add-ons?</label>
<div class="options">
<label><input type="radio" name="addons" required> Juices</label>
<label><input type="radio" name="addons"> Snacks</label>
<label><input type="radio" name="addons"> None</label>
</div>
</div>

<!-- Q7 -->
<div class="question">
<label>Any dish suggestion?</label>
<textarea name="suggestion" required></textarea>
</div>

<div class="btn-group">
<button type="button" id="prevBtn" disabled>Previous</button>
<button type="button" id="nextBtn" disabled>Next</button>
</div>

</form>
</div>

<script>
const questions=document.querySelectorAll(".question");
const nextBtn=document.getElementById("nextBtn");
const prevBtn=document.getElementById("prevBtn");
const progressBar=document.getElementById("progress-bar");
const progressText=document.getElementById("progress-text");
let step=0;

function update(){
  questions.forEach(q=>q.classList.remove("active"));
  questions[step].classList.add("active");
  progressBar.style.width=((step+1)/questions.length)*100+"%";
  progressText.innerText=`Question ${step+1} of ${questions.length}`;
  prevBtn.disabled=step===0;
  nextBtn.innerText=step===questions.length-1?"Submit":"Next";
  validate();
}

function validate(){
  const req=questions[step].querySelectorAll("[required]");
  let ok=true;
  req.forEach(i=>{
    if(i.type==="radio"){
      if(!questions[step].querySelector(`input[name="${i.name}"]:checked`)) ok=false;
    }else if(!i.value.trim()) ok=false;
  });
  nextBtn.disabled=!ok;
}

document.getElementById("survey-form").addEventListener("input",validate);

nextBtn.onclick=()=>{
  if(step<questions.length-1){step++;update();}
  else document.getElementById("survey-form").requestSubmit();
}
prevBtn.onclick=()=>{step--;update();}

document.getElementById("survey-form").onsubmit=async e=>{
  e.preventDefault();
  document.getElementById("loadingOverlay").style.display="flex";
  await fetch("YOUR_SCRIPT_URL",{method:"POST",body:new FormData(e.target)});
  location.href="offer.html";
}

update();
</script>

</body>
  </html>
