<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>The Mom's Kitchen â€“ Welcome Offer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family: Arial, sans-serif;
  background:#FECD50;
  margin:0;
  padding:30px;
  text-align:center;
}

h1{
  margin-bottom:20px;
}

.card{
  background:#fff;
  padding:28px 22px;
  border-radius:18px;
  max-width:380px;
  margin:auto;
  box-shadow:0 6px 15px rgba(0,0,0,0.25);
}

.card h2{
  margin-top:0;
}

.offer{
  font-size:38px;
  font-weight:bold;
  margin:18px 0;
  letter-spacing:2px;
}

.note{
  font-size:14px;
  color:#444;
}

.whatsapp{
  display:none;
  margin-top:22px;
  background:#25D366;
  color:#fff;
  padding:14px;
  border-radius:12px;
  text-decoration:none;
  font-size:18px;
}
</style>
</head>

<body>

<h1>ðŸŽ‰ Congratulations ðŸŽ‰</h1>

<div class="card">
  <h2>Your Welcome Offer Code</h2>

  <div id="offerBox" class="offer">Loading...</div>

  <p class="note">
    Show this code at <b>The Mom's Kitchen</b><br>
    to enjoy your special welcome offer.
  </p>

  <a id="waBtn" class="whatsapp" target="_blank">
    ðŸ“¤ Share on WhatsApp
  </a>
</div>

<script>
/* ================= CONFIG ================= */
const WEB_APP_URL = "PASTE_YOUR_DEPLOYED_SCRIPT_URL_HERE";

/* ================= FETCH OFFER ================= */
fetch(WEB_APP_URL)
.then(res => res.json())
.then(data => {

  const offerBox = document.getElementById("offerBox");
  const waBtn = document.getElementById("waBtn");

  if (data.status === "success" && data.offerCode) {

    offerBox.innerText = data.offerCode;
    waBtn.style.display = "block";

    const msg =
`ðŸŽ‰ Welcome to The Mom's Kitchen ðŸŽ‰
Name: ${data.name}
Offer Code: ${data.offerCode}

Enjoy your special welcome offer!`;

    waBtn.href =
      "https://wa.me/?text=" + encodeURIComponent(msg);

  } else {
    offerBox.innerText = "Offer Closed";
    waBtn.style.display = "none";
  }
})
.catch(() => {
  document.getElementById("offerBox").innerText = "Error";
});
</script>
</body>
</html>
