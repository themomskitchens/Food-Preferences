<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>The Mom's Kitchen â€“ Welcome Offer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family: Arial, sans-serif;
  background:#FECD50;
  margin:0;
  padding:25px;
  text-align:center;
}

.card{
  background:#fff;
  border-radius:16px;
  padding:25px;
  max-width:380px;
  margin:auto;
  box-shadow:0 6px 15px rgba(0,0,0,0.25);
}

.offer{
  font-size:40px;
  font-weight:bold;
  margin:15px 0;
}

.whatsapp{
  display:none;
  margin-top:20px;
  background:#25D366;
  color:#fff;
  padding:14px;
  border-radius:12px;
  text-decoration:none;
  font-size:18px;
}
</style>
</head>

<body>

<h1>ðŸŽ‰ Congratulations ðŸŽ‰</h1>

<div class="card">
  <h2>Your Welcome Offer</h2>
  <div id="offerBox" class="offer">Loading...</div>

  <p>
    Show this code at <b>The Mom's Kitchen</b><br>
    to enjoy your special welcome offer.
  </p>

  <a id="waBtn" class="whatsapp" target="_blank">
    ðŸ“¤ Share on WhatsApp
  </a>
</div>

<script>
/* ===== CONFIG ===== */
const API_URL = "https://script.google.com/macros/s/1Bv4IgAE8zB950E115S442psRQOizyXv6cPlFg4heoYI/exec";

/* ===== ELEMENTS ===== */
const offerBox = document.getElementById("offerBox");
const waBtn = document.getElementById("waBtn");

/* ===== FETCH OFFER ===== */
fetch(https://script.google.com/macros/s/AKfycbziUvgEOdbnzfJLfmlJ9YATV2i2VzGzdp0jfVSui7_vrAKiCZOLAlLN3Xxc1mktjU3H6w/exec)
.then(res => res.json())
.then(data => {
  console.log(data);

  if(data.status === "success" && data.offerCode){
    offerBox.innerText = data.offerCode;
    waBtn.style.display = "inline-block";

    const msg =
`ðŸŽ‰ Welcome to The Mom's Kitchen ðŸŽ‰
Name: ${data.name || "Customer"}
Offer Code: ${data.offerCode}

Enjoy your fresh & tasty food!`;

    waBtn.href = "https://wa.me/?text=" + encodeURIComponent(msg);

  }else{
    offerBox.innerText = "Offer Closed";
  }
})
.catch(err => {
  offerBox.innerText = "Error";
  console.error(err);
});
</script>
</body>
</html>
